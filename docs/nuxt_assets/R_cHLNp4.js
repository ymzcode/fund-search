import{a as ae,m as oe,u as ne}from"./CXFcH0r8.js";import{R as k,ab as E,j as v,r as se,a1 as w,bh as U,Y as L,af as _,ad as O,a8 as D,b8 as le,a0 as ue,a7 as ie,I as re,J as ce,f as ve,a4 as ye,T as de,a5 as pe,a6 as fe,z as $,bi as me,P as ge}from"./CJEw5TCq.js";const z=Symbol.for("vuetify:layout"),F=Symbol.for("vuetify:layout-item"),Z=1e3,he=k({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),Le=k({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function $e(){const t=E(z);if(!t)throw new Error("[Vuetify] Could not find injected layout");return{layoutIsReady:O(),getLayoutItem:t.getLayoutItem,mainRect:t.mainRect,mainStyles:t.mainStyles}}function ze(t){const o=E(z);if(!o)throw new Error("[Vuetify] Could not find injected layout");const s=t.id??`layout-item-${ue()}`,u=_("useLayoutItem");D(F,{id:s});const n=ie(!1);re(()=>n.value=!0),ce(()=>n.value=!1);const r=O(),{layoutItemStyles:l,layoutItemScrimStyles:c}=o.register(u,{...t,active:v(()=>n.value?!1:t.active.value),id:s});return ve(()=>o.unregister(s)),{layoutItemStyles:l,layoutRect:o.layoutRect,layoutItemScrimStyles:c,layoutIsReady:r}}const Ie=(t,o,s,u)=>{let n={top:0,left:0,right:0,bottom:0};const r=[{id:"",layer:{...n}}];for(const l of t){const c=o.get(l),p=s.get(l),f=u.get(l);if(!c||!p||!f)continue;const h={...n,[c.value]:parseInt(n[c.value],10)+(f.value?parseInt(p.value,10):0)};r.push({id:l,layer:h}),n=h}return r};function xe(t){const o=E(z,null),s=v(()=>o?o.rootZIndex.value-100:Z),u=se([]),n=w(new Map),r=w(new Map),l=w(new Map),c=w(new Map),p=w(new Map),{resizeRef:f,contentRect:h}=ae(),I=U(()=>{const a=[...new Set([...l.values()].map(e=>e.value))].sort((e,m)=>e-m),y=[];for(const e of a){const m=u.value.filter(i=>{var g;return((g=l.get(i))==null?void 0:g.value)===e});y.push(...m)}return Ie(y,n,r,c)}),H=v(()=>!Array.from(p.values()).some(a=>a.value)),x=v(()=>I.value[I.value.length-1].layer),X=v(()=>({"--v-layout-left":L(x.value.left),"--v-layout-right":L(x.value.right),"--v-layout-top":L(x.value.top),"--v-layout-bottom":L(x.value.bottom),...H.value?void 0:{transition:"none"}})),b=U(()=>I.value.slice(1).map((a,y)=>{let{id:e}=a;const{layer:m}=I.value[y],i=r.get(e),g=n.get(e);return{id:e,...m,size:Number(i.value),position:g.value}})),M=a=>b.value.find(y=>y.id===a),C=_("createLayout"),j=O();D(z,{register:(a,y)=>{let{id:e,order:m,position:i,layoutSize:g,elementSize:R,active:N,disableTransitions:B,absolute:J}=y;l.set(e,m),n.set(e,i),r.set(e,g),c.set(e,N),B&&p.set(e,B);const K=le(F,C==null?void 0:C.vnode).indexOf(a);K>-1?u.value.splice(K,0,e):u.value.push(e);const V=v(()=>b.value.findIndex(S=>S.id===e)),A=v(()=>s.value+I.value.length*2-V.value*2),W=v(()=>{const S=i.value==="left"||i.value==="right",P=i.value==="right",Q=i.value==="bottom",T=R.value??g.value,ee=T===0?"%":"px",te={[i.value]:0,zIndex:A.value,transform:`translate${S?"X":"Y"}(${(N.value?0:-(T===0?100:T))*(P||Q?-1:1)}${ee})`,position:J.value||s.value!==Z?"absolute":"fixed",...H.value?void 0:{transition:"none"}};if(V.value<0)throw new Error(`Layout item "${e}" is missing`);const d=b.value[V.value];if(!d)throw new Error(`[Vuetify] Could not find layout item "${e}"`);return{...te,height:S?`calc(100% - ${d.top}px - ${d.bottom}px)`:R.value?`${R.value}px`:void 0,left:P?void 0:`${d.left}px`,right:P?`${d.right}px`:void 0,top:i.value!=="bottom"?`${d.top}px`:void 0,bottom:i.value!=="top"?`${d.bottom}px`:void 0,width:S?R.value?`${R.value}px`:void 0:`calc(100% - ${d.left}px - ${d.right}px)`}}),G=v(()=>({zIndex:A.value-1}));return{layoutItemStyles:W,layoutItemScrimStyles:G,zIndex:A}},unregister:a=>{l.delete(a),n.delete(a),r.delete(a),c.delete(a),p.delete(a),u.value=u.value.filter(y=>y!==a)},mainRect:x,mainStyles:X,getLayoutItem:M,items:b,layoutRect:h,rootZIndex:s,layoutIsReady:j});const Y=v(()=>["v-layout",{"v-layout--full-height":t.fullHeight}]),q=v(()=>({zIndex:o?s.value:void 0,position:o?"relative":void 0,overflow:o?"hidden":void 0}));return{layoutClasses:Y,layoutStyles:q,getLayoutItem:M,items:b,layoutRect:h,layoutIsReady:j,layoutRef:f}}const be=k({...oe(),...he({fullHeight:!0}),...ye()},"VApp"),Ce=de()({name:"VApp",props:be(),setup(t,o){let{slots:s}=o;const u=pe(t),{layoutClasses:n,getLayoutItem:r,items:l,layoutRef:c}=xe(t),{rtlClasses:p}=fe();return ne(()=>$("div",{ref:c,class:["v-application",u.themeClasses.value,n.value,p.value,t.class],style:[t.style]},[$("div",{class:"v-application__wrap"},[$(me,null,{default:()=>{var f;return[$(ge,null,[(f=s.default)==null?void 0:f.call(s)])]}})])])),{getLayoutItem:r,items:l,theme:u}}});export{Ce as V,$e as a,Le as m,ze as u};
